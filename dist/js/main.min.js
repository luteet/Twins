const body=document.querySelector("body"),html=document.querySelector("html"),menu=document.querySelectorAll(".header__burger, .header__nav, body"),burger=document.querySelector(".header__burger"),header=document.querySelector(".header");function Popup(e){let t=document.querySelector("body"),o=document.querySelector("html"),r="object"==typeof e&&!!e.saveID,i=!0,s=!0;const a=function(e,s){if(i){i=!1;let a=document.querySelector(e);if(!a)return new Error(`Not found "${e}"`);a.classList.contains("popup")&&(a.style.display="flex",t.classList.remove("_popup-active"),o.style.setProperty("--popup-padding",window.innerWidth-t.offsetWidth+"px"),t.classList.add("_popup-active"),r&&history.pushState("","",e),setTimeout(()=>{if(s)a.classList.add("_transition-none"),a.classList.add("_active"),i=!0;else{a.classList.add("_active"),a.addEventListener("transitionend",(function e(){i=!0,a.removeEventListener("transitionend",e)}))}},0))}},n=function(e){if(s){let i;s=!1,i="string"==typeof e?document.querySelector(e):e.closest(".popup"),i.classList.contains("_transition-none")&&i.classList.remove("_transition-none"),setTimeout(()=>{function e(){const e=document.querySelectorAll(".popup._active");if(e.length<1&&(t.classList.remove("_popup-active"),o.style.setProperty("--popup-padding","0px")),r&&(!function(){let e=window.location.toString();if(e.indexOf("#")>0){let t=e.substring(0,e.indexOf("#"));window.history.replaceState({},document.title,t)}}(),e[e.length-1]&&history.pushState("","","#"+e[e.length-1].getAttribute("id"))),s=!0,i.style.display="none",i.classList.contains("stories-popup")){const e=i.querySelector(".splide__slide.is-active .stories-popup__video");setTimeout(()=>{e.pause(),e.classList.remove("is-playing"),e.currentTime=0},200)}}i.classList.remove("_active"),setTimeout(()=>{e()},300)},50)}};return{open:function(e){a(e)},close:function(e){n(e)},init:function(){let e;if(t.addEventListener("click",(function(t){e=t.target;let o=e.closest(".open-popup");o&&(t.preventDefault(),a(o.getAttribute("href")));let r=e.closest(".popup-close");r&&n(r)})),t.addEventListener("keyup",(function(e){27==e.code&&document.querySelector(".popup._active")&&n(document.querySelector(".popup._active"))})),r){let e=new URL(window.location);e.hash&&a(e.hash,!0)}}}}const popup=new Popup;function updatePrice(){const e=document.querySelectorAll("[data-price]"),t=document.querySelectorAll("[data-add-price]"),o=document.querySelectorAll("[data-result-price-input]"),r=document.querySelectorAll("[data-result-price-sum]"),i=document.querySelectorAll("[data-result-price]");let s=0,a=0;e.forEach(e=>{e.value>0&&(s+=Number(e.dataset.price)*e.value)}),t.forEach(t=>{e.length&&(a+=Number(t.dataset.addPrice))}),i.forEach(e=>{e.textContent=(a+s).toLocaleString()+" "+e.dataset.resultCurrency}),o.forEach(e=>{e.value=s+a}),r.forEach(e=>{e.textContent=s.toLocaleString()+" "+e.dataset.resultCurrency})}popup.init(),setTimeout(()=>{updatePrice()},0);const imageAspectRatio=document.querySelectorAll(".image-aspect-ratio, figure");imageAspectRatio.forEach(e=>{const t=e.querySelector("img"),o=getComputedStyle(e);t&&t.getAttribute("width")&&t.getAttribute("height")&&"relative"==o.position&&e.style.setProperty("--padding-aspect-ratio",Number(t.getAttribute("height"))/Number(t.getAttribute("width"))*100+"%")});let rangeArray=[];body.addEventListener("click",(function(e){function t(t){return e.target.closest(t)}t(".header__burger")&&menu.forEach(e=>{e.classList.toggle("_mob-menu-active")});const o=t(".header__lang--target");o?o.classList.toggle("is-active"):!t(".header__lang")&&document.querySelector(".header__lang--target.is-active")&&document.querySelector(".header__lang--target.is-active").classList.remove("is-active");const r=t(".footer__lang--target");r?r.classList.toggle("is-active"):!t(".footer__lang")&&document.querySelector(".footer__lang--target.is-active")&&document.querySelector(".footer__lang--target.is-active").classList.remove("is-active");const i=t(".products-filter__group-target");if(i){const e=i.parentElement;e.querySelector(".products-filter__group-block > div");e.classList.toggle("is-active")}t(".products__open-filter")&&(document.querySelector(".products-filter").classList.add("is-active"),body.classList.add("is-overflow-hidden"));t(".products-filter__close")&&(document.querySelector(".products-filter").classList.remove("is-active"),body.classList.remove("is-overflow-hidden"));t(".products-filter__background")&&(document.querySelector(".products-filter").classList.remove("is-active"),body.classList.remove("is-overflow-hidden"));const s=t(".product__info-item--target");s&&s.parentElement.classList.toggle("is-active");const a=t(".blog__open-categories");a&&a.classList.toggle("is-active");const n=t(".account-history-orders__item-header");n&&n.classList.toggle("is-active");const c=t(".product-length__btn");if(c){const e=c.parentElement.querySelector("input");c.classList.contains("to-minus")&&(e.value<=1?e.value=e.getAttribute("min"):e.value--),c.classList.contains("to-plus")&&e.value++,updatePrice()}const l=t(".cart-item__remove");if(l){const e=l.closest(".cart-item");e.classList.add("is-removing"),setTimeout(()=>{e.remove(),setTimeout(()=>{updatePrice()},0)},400)}const d=t(".checkout-cart__item--remove");if(d){const e=d.closest(".checkout-cart__item");e.classList.add("is-removing"),e&&setTimeout(()=>{e.remove(),setTimeout(()=>{updatePrice()},0)},300)}}));let windowSize=0;const heroProductBackground=document.querySelector(".hero__product--background"),aboutCompanyBackground=document.querySelector(".about-company__background");function resize(){heroProductBackground&&heroProductBackground.style.setProperty("--height",heroProductBackground.offsetHeight+"px"),aboutCompanyBackground&&aboutCompanyBackground.style.setProperty("--height",aboutCompanyBackground.offsetHeight+"px"),html.style.setProperty("--height-header",header.offsetHeight+"px"),html.style.setProperty("--vh",.01*window.innerHeight+"px"),windowSize!=window.innerWidth&&html.style.setProperty("--svh",.01*window.innerHeight+"px"),windowSize=window.innerWidth}function updateProgressBar(e,t){const o=t.currentTime/t.duration*100;e.style.setProperty("--progress",o+"%")}function playVideo(e){e.play()}function rangeSlider(){document.querySelectorAll(".products-filter__range").forEach(e=>{const t=e.querySelector("[data-is-min]"),o=e.querySelector("[data-is-max]"),r=e.querySelector(".products-filter__range--element");new window.JSR.JSR({modules:[new window.JSR.ModuleLimit({min:Number(r.dataset.min),max:Number(r.dataset.max)}),new window.JSR.ModuleRail,new window.JSR.ModuleSlider,new window.JSR.ModuleBar,new window.JSR.ModuleLabel],config:{min:Number(r.dataset.min),max:Number(r.dataset.max),step:1,initialValues:[Number(r.dataset.minValue),Number(r.dataset.maxValue)],container:document.querySelector(".products-filter__range--element div")}}).onValueChange((function(e){0==e.index?t.value=e.real:1==e.index&&(o.value=e.real)}))})}function timerSetString(e,t){t<=9?(e[0].textContent="0",e[1].textContent=t.toString()):(e[0].textContent=t.toString().split("")[0],e[1].textContent=t.toString().split("")[1])}function timer(){let e;document.querySelectorAll(".shares-timer").forEach(t=>{let o=t.dataset.timer;o&&(o=o.split("-")),e=new Date(o[0],Number(o[1]-1),o[2],0,0);const r=t.querySelectorAll(".shares-timer__days span"),i=t.querySelectorAll(".shares-timer__hours span"),s=t.querySelectorAll(".shares-timer__minutes span"),a=(t.querySelectorAll(".shares-timer__seconds span"),e-new Date),n=a>0?Math.floor(a/1e3/60/60/24):0,c=a>0?Math.floor(a/1e3/60/60)%24:0,l=a>0?Math.floor(a/1e3/60)%60:0;a>0&&Math.floor(a/1e3);timerSetString(r,n),timerSetString(i,c),timerSetString(s,l)})}resize(),window.addEventListener("resize",resize),document.querySelectorAll(".hero__slider").forEach(e=>{new Splide(e,{type:"fade",perPage:1,rewind:!0,speed:700,easing:"ease",breakpoints:{}}).mount()}),document.querySelectorAll(".blog-section__slider").forEach(e=>{const t=new Splide(e,{perPage:1,perMove:1,speed:700,easing:"ease",gap:15,mediaQuery:"min",arrows:!1,drag:!1,breakpoints:{550:{perPage:2},992:{perPage:3}}});t.on("mounted resize",(function(e){t.root.classList.remove("is-active-drag"),windowSize>=992?t.length>3&&(t.options.drag=!0,t.root.classList.add("is-active-drag")):windowSize>=550?t.length>2&&(t.options.drag=!0,t.root.classList.add("is-active-drag")):t.length>1&&(t.options.drag=!0,t.root.classList.add("is-active-drag"))})),t.mount()}),document.querySelectorAll(".hero__product--background-marquee").forEach(e=>{const t=new Splide(e,{type:"loop",direction:"ttb",autoHeight:!0,height:"100%",arrows:!1,pagination:!1,autoScroll:{speed:"prev"==e.dataset.direction?1:-1}});heroProductBackground&&heroProductBackground.style.setProperty("--height",heroProductBackground.offsetHeight+"px"),t.mount(window.splide.Extensions)}),document.querySelectorAll(".stories__slider").forEach(e=>{new Splide(e,{gap:15,autoWidth:!0,arrows:!1,pagination:!1,speed:500,easing:"ease",mediaQuery:"min",breakpoints:{992:{destroy:!0}}}).mount()}),document.querySelectorAll(".product__gallery").forEach(e=>{const t=new Splide(e,{type:"fade",perPage:1,speed:700,easing:"ease",arrows:!1,pagination:!1}),o=e.parentElement.querySelector(".product__gallery-pagination--slide"),r=new Splide(e.parentElement.querySelector(".product__gallery-pagination"),{perPage:4,drag:!(o.length>4),gap:10,speed:500,easing:"ease",mediaQuery:"min",isNavigation:!0,arrows:!0,pagination:!1,breakpoints:{992:{gap:18,perPage:5,drag:!(o.length>5)}}});t.sync(r),t.mount(),r.mount()}),document.querySelectorAll(".similar-products__slider").forEach(e=>{new Splide(e,{type:"loop",perPage:4,speed:700,perMove:1,easing:"ease",gap:20,pagination:!1,breakpoints:{992:{perPage:3},550:{perPage:1}}}).mount()}),document.querySelectorAll(".stories-popup__slider").forEach(e=>{const t=new Splide(e,{autoWidth:!0,pagination:!1,speed:1e3,easing:"ease",updateOnMove:!0}),o=t.root.closest(".popup").querySelector(".stories-popup__volume");o.addEventListener("click",(function(e){o.classList.contains("is-muted")?(localStorage.setItem("twins-stories-muted",!1),o.classList.remove("is-muted"),o.querySelector("use").setAttribute("xlink:href",o.dataset.volumeActiveIcon)):(localStorage.setItem("twins-stories-muted",!0),o.classList.add("is-muted"),o.querySelector("use").setAttribute("xlink:href",o.dataset.volumeNoneIcon)),r.forEach(e=>{const t=e.querySelector("video");t.muted=!t.muted})}));const r=t.root.querySelectorAll(".splide__slide");t.root.querySelectorAll(".stories-popup__video").forEach((e,r)=>{let i=0;e.addEventListener("ended",(function(e){setTimeout(()=>{t.go(">")},200)}));const s=e.closest(".splide__slide").querySelector(".stories-popup__video-progress");setInterval(()=>{e.addEventListener("timeupdate",updateProgressBar(s,e))},500),e.addEventListener("click",(function(){t.go(r),e.classList.contains("is-playing")?(e.classList.remove("is-playing"),i=e.currentTime,e.pause()):(e.classList.add("is-playing"),e.currentTime=i,e.play())})),"true"==localStorage.getItem("twins-stories-muted")&&(e.muted=!0,o.classList.add("is-muted"),o.querySelector("use").setAttribute("xlink:href",o.dataset.volumeNoneIcon))}),t.on("move",(function(e,o,i){if(t.root.closest(".popup._active")){const e=r[o].querySelector(".stories-popup__video");e.pause(),r[o].classList.remove("is-active-video"),e.classList.remove("is-playing"),e.currentTime=0}})),t.on("active",(function(e){if(t.root.closest(".popup._active")){const t=e.slide.querySelector(".stories-popup__video"),o=e.slide.querySelector(".stories-popup__loader");t.parentElement.style.width=t.offsetWidth+"px",t.addEventListener("loadeddata",(function(){t.parentElement.style.removeProperty("width"),setTimeout(()=>{o.classList.remove("is-active"),setTimeout(()=>{t.closest(".splide__slide.is-active")&&(e.slide.classList.add("is-active-video"),t.classList.add("is-playing"),t.play())},1e3)},1e3)})),o.classList.add("is-active"),t.load()}}));document.querySelectorAll(".stories__list").forEach(e=>{e.querySelectorAll(".stories__item--body").forEach((e,o)=>{e.setAttribute("data-index",o),e.addEventListener("click",(function(e){setTimeout(()=>{t.refresh(),t.go(o)},100)}))})}),t.mount()}),document.querySelectorAll("[data-simplebar]").forEach(e=>{new SimpleBar(e,{autoHide:!1})}),rangeSlider(),AOS.init({disable:"mobile",once:!0}),timer(),setInterval(()=>{timer()},1e3),Datepicker.locales.uk={days:["Неділя","Понеділок","Вівторок","Середа","Четвер","П'ятниця","Субота"],daysShort:["Нед","Пнд","Втр","Срд","Чтв","Птн","Суб"],daysMin:["Нд","Пн","Вт","Ср","Чт","Пт","Сб"],months:["Січень","Лютий","Березень","Квітень","Травень","Червень","Липень","Серпень","Вересень","Жовтень","Листопад","Грудень"],monthsShort:["Січ","Лют","Бер","Кві","Тра","Чер","Лип","Сер","Вер","Жов","Лис","Гру"],today:"Сьогодні",clear:"Очистити",format:"dd.mm.yyyy",weekStart:1};const datesInputs=document.querySelectorAll(".date-input");datesInputs.forEach(e=>{new window.Datepicker(e,{language:"uk"})});