const body=document.querySelector("body"),html=document.querySelector("html"),menu=document.querySelectorAll(".header__burger, .header__nav, body"),burger=document.querySelector(".header__burger"),header=document.querySelector(".header");function slideUp(e,t=300){e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.boxSizing="border-box",e.style.height=e.offsetHeight+"px",e.offsetHeight,e.style.overflow="hidden",e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,window.setTimeout(()=>{e.style.display="none",e.style.removeProperty("height"),e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property")},t)}function slideDown(e,t=300){e.style.removeProperty("display");let o=window.getComputedStyle(e).display;"none"===o&&(o="block"),e.style.display=o;let r=e.offsetHeight;e.style.overflow="hidden",e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,e.offsetHeight,e.style.boxSizing="border-box",e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.height=r+"px",e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),window.setTimeout(()=>{e.style.removeProperty("height"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property")},t)}function Popup(e){let t=document.querySelector("body"),o=document.querySelector("html"),r="object"==typeof e&&!!e.saveID,i=!0,s=!0;const n=function(e,s){if(i){i=!1;let n=document.querySelector(e);if(!n)return new Error(`Not found "${e}"`);n.classList.contains("popup")&&(n.style.display="flex",t.classList.remove("_popup-active"),o.style.setProperty("--popup-padding",window.innerWidth-t.offsetWidth+"px"),t.classList.add("_popup-active"),r&&history.pushState("","",e),setTimeout(()=>{if(s)n.classList.add("_transition-none"),n.classList.add("_active"),i=!0;else{n.classList.add("_active"),n.addEventListener("transitionend",(function e(){i=!0,n.removeEventListener("transitionend",e)}))}},0))}},a=function(e){if(s){let i;s=!1,i="string"==typeof e?document.querySelector(e):e.closest(".popup"),i.classList.contains("_transition-none")&&i.classList.remove("_transition-none"),setTimeout(()=>{i.classList.remove("_active"),i.addEventListener("transitionend",(function e(){const n=document.querySelectorAll(".popup._active");if(n.length<1&&(t.classList.remove("_popup-active"),o.style.setProperty("--popup-padding","0px")),r&&(!function(){let e=window.location.toString();if(e.indexOf("#")>0){let t=e.substring(0,e.indexOf("#"));window.history.replaceState({},document.title,t)}}(),n[n.length-1]&&history.pushState("","","#"+n[n.length-1].getAttribute("id"))),s=!0,i.style.display="none",i.removeEventListener("transitionend",e),i.classList.contains("stories-popup")){const e=i.querySelector(".splide__slide.is-active .stories-popup__video");setTimeout(()=>{e.pause(),e.classList.remove("is-playing"),e.currentTime=0},200)}}))},0)}};return{open:function(e){n(e)},close:function(e){a(e)},init:function(){let e;if(t.addEventListener("click",(function(t){e=t.target;let o=e.closest(".open-popup");o&&(t.preventDefault(),n(o.getAttribute("href")));let r=e.closest(".popup-close");r&&a(r)})),t.addEventListener("keyup",(function(e){27==e.code&&document.querySelector(".popup._active")&&a(document.querySelector(".popup._active"))})),r){let e=new URL(window.location);e.hash&&n(e.hash,!0)}}}}const popup=new Popup;popup.init();const imageAspectRatio=document.querySelectorAll(".image-aspect-ratio, figure");imageAspectRatio.forEach(e=>{const t=e.querySelector("img"),o=getComputedStyle(e);t&&t.getAttribute("width")&&t.getAttribute("height")&&"relative"==o.position&&e.style.setProperty("--padding-aspect-ratio",Number(t.getAttribute("height"))/Number(t.getAttribute("width"))*100+"%")});let rangeArray=[];body.addEventListener("click",(function(e){function t(t){return e.target.closest(t)}t(".header__burger")&&menu.forEach(e=>{e.classList.toggle("_mob-menu-active")});const o=t(".header__lang--target");o?o.classList.toggle("is-active"):!t(".header__lang")&&document.querySelector(".header__lang--target.is-active")&&document.querySelector(".header__lang--target.is-active").classList.remove("is-active");const r=t(".footer__lang--target");r?r.classList.toggle("is-active"):!t(".footer__lang")&&document.querySelector(".footer__lang--target.is-active")&&document.querySelector(".footer__lang--target.is-active").classList.remove("is-active");const i=t(".products-filter__group-target");if(i){const e=i.parentElement;e.querySelector(".products-filter__group-block > div");e.classList.toggle("is-active")}t(".products__open-filter")&&document.querySelector(".products-filter").classList.add("is-active");t(".products-filter__close")&&document.querySelector(".products-filter").classList.remove("is-active");t(".products-filter__background")&&document.querySelector(".products-filter").classList.remove("is-active");const s=t(".product__info-item--target");s&&s.parentElement.classList.toggle("is-active");const n=t(".blog__open-categories");n&&n.classList.toggle("is-active")}));let windowSize=0;const heroProductBackground=document.querySelector(".hero__product--background");function resize(){heroProductBackground&&heroProductBackground.style.setProperty("--height",heroProductBackground.offsetHeight+"px"),html.style.setProperty("--height-header",header.offsetHeight+"px"),html.style.setProperty("--vh",.01*window.innerHeight+"px"),windowSize!=window.innerWidth&&html.style.setProperty("--svh",.01*window.innerHeight+"px"),windowSize=window.innerWidth}function updateProgressBar(e,t){const o=t.currentTime/t.duration*100;e.style.setProperty("--progress",o+"%")}function playVideo(e){e.play()}function rangeSlider(){document.querySelectorAll(".products-filter__range").forEach(e=>{const t=e.querySelector("[data-is-min]"),o=e.querySelector("[data-is-max]"),r=e.querySelector(".products-filter__range--element");let i=r.querySelectorAll(".wrunner__valueNote")[0],s=r.querySelectorAll(".wrunner__valueNote")[1];var n={roots:r,type:"range",limits:{minLimit:Number(r.dataset.min),maxLimit:Number(r.dataset.max)},rangeValue:{minValue:Number(r.dataset.minValue),maxValue:Number(r.dataset.maxValue)},step:1,onValueUpdate:function(e){i||(i=r.querySelectorAll(".wrunner__valueNote")[0]),s||(s=r.querySelectorAll(".wrunner__valueNote")[1]),t.value!=e.minValue&&i&&s&&(i.style.zIndex=2,s.style.removeProperty("z-index")),o.value!=e.maxValue&&i&&s&&(s.style.zIndex=2,i.style.removeProperty("z-index")),t.value=e.minValue,o.value=e.maxValue}};wRunner(n)})}resize(),window.addEventListener("resize",resize),document.querySelectorAll(".hero__slider").forEach(e=>{new Splide(e,{type:"fade",perPage:1,rewind:!0,speed:700,easing:"ease",breakpoints:{}}).mount()}),document.querySelectorAll(".blog-section__slider").forEach(e=>{const t=new Splide(e,{perPage:1,perMove:1,speed:700,easing:"ease",gap:15,mediaQuery:"min",arrows:!1,drag:!1,breakpoints:{550:{perPage:2},992:{perPage:3}}});t.on("mounted resize",(function(e){t.root.classList.remove("is-active-drag"),windowSize>=992?t.length>3&&(t.options.drag=!0,t.root.classList.add("is-active-drag")):windowSize>=550?t.length>2&&(t.options.drag=!0,t.root.classList.add("is-active-drag")):t.length>1&&(t.options.drag=!0,t.root.classList.add("is-active-drag"))})),t.mount()}),document.querySelectorAll(".hero__product--background-marquee").forEach(e=>{const t=new Splide(e,{type:"loop",direction:"ttb",autoHeight:!0,height:"100%",arrows:!1,pagination:!1,autoScroll:{speed:"prev"==e.dataset.direction?1:-1}});heroProductBackground&&heroProductBackground.style.setProperty("--height",heroProductBackground.offsetHeight+"px"),t.mount(window.splide.Extensions)}),document.querySelectorAll(".stories__slider").forEach(e=>{new Splide(e,{gap:15,autoWidth:!0,arrows:!1,pagination:!1,speed:500,easing:"ease",mediaQuery:"min",breakpoints:{992:{destroy:!0}}}).mount()}),document.querySelectorAll(".product__gallery").forEach(e=>{const t=new Splide(e,{type:"fade",perPage:1,speed:700,easing:"ease",arrows:!1,pagination:!1}),o=e.parentElement.querySelector(".product__gallery-pagination--slide"),r=new Splide(e.parentElement.querySelector(".product__gallery-pagination"),{perPage:4,drag:!(o.length>4),gap:10,speed:500,easing:"ease",mediaQuery:"min",isNavigation:!0,arrows:!0,pagination:!1,breakpoints:{992:{gap:18,perPage:5,drag:!(o.length>5)}}});t.sync(r),t.mount(),r.mount()}),document.querySelectorAll(".similar-products__slider").forEach(e=>{new Splide(e,{type:"loop",perPage:4,speed:700,perMove:1,easing:"ease",gap:20,pagination:!1,breakpoints:{992:{perPage:3},550:{perPage:1}}}).mount()}),document.querySelectorAll(".stories-popup__slider").forEach(e=>{const t=new Splide(e,{autoWidth:!0,pagination:!1,speed:1e3,easing:"ease",updateOnMove:!0}),o=t.root.closest(".popup").querySelector(".stories-popup__volume");o.addEventListener("click",(function(e){o.classList.contains("is-muted")?(localStorage.setItem("twins-stories-muted",!1),o.classList.remove("is-muted"),o.querySelector("use").setAttribute("xlink:href",o.dataset.volumeActiveIcon)):(localStorage.setItem("twins-stories-muted",!0),o.classList.add("is-muted"),o.querySelector("use").setAttribute("xlink:href",o.dataset.volumeNoneIcon)),r.forEach(e=>{const t=e.querySelector("video");t.muted=!t.muted})}));const r=t.root.querySelectorAll(".splide__slide");t.root.querySelectorAll(".stories-popup__video").forEach((e,r)=>{let i=0;e.addEventListener("ended",(function(e){setTimeout(()=>{t.go(">")},200)}));const s=e.closest(".splide__slide").querySelector(".stories-popup__video-progress");setInterval(()=>{e.addEventListener("timeupdate",updateProgressBar(s,e))},500),e.addEventListener("click",(function(){t.go(r),e.classList.contains("is-playing")?(e.classList.remove("is-playing"),i=e.currentTime,e.pause()):(e.classList.add("is-playing"),e.currentTime=i,e.play())})),"true"==localStorage.getItem("twins-stories-muted")&&(e.muted=!0,o.classList.add("is-muted"),o.querySelector("use").setAttribute("xlink:href",o.dataset.volumeNoneIcon))}),t.on("move",(function(e,o,i){if(t.root.closest(".popup._active")){const e=r[o].querySelector(".stories-popup__video");e.pause(),e.classList.remove("is-playing"),e.currentTime=0}})),t.on("active",(function(e){if(t.root.closest(".popup._active")){const t=e.slide.querySelector(".stories-popup__video"),o=e.slide.querySelector(".stories-popup__loader");t.parentElement.style.width=t.offsetWidth+"px",t.addEventListener("loadeddata",(function(){t.parentElement.style.removeProperty("width"),setTimeout(()=>{o.classList.remove("is-active"),setTimeout(()=>{t.closest(".splide__slide.is-active")&&(t.classList.add("is-playing"),t.play())},300)},1e3)})),o.classList.add("is-active"),t.load()}}));document.querySelectorAll(".stories__list").forEach(e=>{e.querySelectorAll(".stories__item--body").forEach((e,o)=>{e.setAttribute("data-index",o),e.addEventListener("click",(function(e){setTimeout(()=>{t.refresh(),t.go(o)},100)}))})}),t.mount()}),document.querySelectorAll("[data-simplebar]").forEach(e=>{new SimpleBar(e,{autoHide:!1})}),rangeSlider(),AOS.init({disable:"mobile",once:!0});